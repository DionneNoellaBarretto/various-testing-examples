# Lesson scripts - Component testsshift

## Part 1 - the 1st priority tests
**Punch**: Similar to req doc
- I have a requirements doc
- Start watch
- Test skeleton with good structure
- Punch: TDD or not - start with these

## Part 2 - Setup is challenging
**Punch**: Get powerful tool with time
- Show unit under test (API)
- Explain that after one time setup it gets fun + gif
- Show setup - DB, express, sinon

## Part 3 - unit test like
**Punch**: Unit test like
- Arrange, mock things (nock, sinon, env var)
- Supertest, in process
- Simplistic 200 assertion and then body + inline snapshots

## Part 4 - The merit
- Realistic: DB errors
- Cost-effective: coverage with less effort
- User-facing: similar to req, POSTMAN like

## Part 3 - Refine the expectations
**Punch**: Unit test like
- Assert also body with focus on fields
- Assert once
- Inline snapshot
- Mail

## Part 4 - White-boxing
- Introduce the MQ code
- Copy the API test, replace the act

## Commands
brew services start postgresql